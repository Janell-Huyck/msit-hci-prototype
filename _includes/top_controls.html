<div class="container-fluid my-5">
    <div class="d-flex align-items-center justify-content-between">
        <div class="col-md-5">
            <div class="d-flex align-items-center">
                <input type="text" class="form-control me-2" placeholder="Search courses..." />
                <button class="btn btn-outline-secondary">🔍</button>
            </div>
        </div>

        <div class="d-flex align-items-center px-4">
            <!-- Filter dropdown -->
            {% include filter_dropdowns.html %}

            <!-- Term selection -->
            {% include term_selector.html %}

            <!-- Create Plan button -->
            <div class="d-flex justify-content-end">
                <a href="{{ site.url }}{{ site.baseurl }}/plan.html" class="btn btn-outline-secondary m2">Create Plan</a>
            </div>
        </div>
    </div>
</div>

<!-- Filter droplets -->
<div class="mb-3 container-fluid" id="active-filters">
    {% comment %} Online badge {% endcomment %}
    {% if page.url contains 'online' %}
        <span class="badge bg-primary me-1">
          🌐 Online

          {% if page.url contains 'cybersecurity' %}
            {%- comment -%} remove Online but keep Cybersecurity {%- endcomment -%}
            {% if page.url contains '/summer-online-cybersecurity' %}
              <a href="{{ site.baseurl }}/summer-cybersecurity.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/fall-online-cybersecurity' %}
              <a href="{{ site.baseurl }}/fall-cybersecurity.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/all-online-cybersecurity' %}
              <a href="{{ site.baseurl }}/all-cybersecurity.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% endif %}

          {% else %}
            {%- comment -%} remove Online only {%- endcomment -%}
            {% if page.url contains '/summer-online' %}
              <a href="{{ site.baseurl }}/summer.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/fall-online' %}
              <a href="{{ site.baseurl }}/fall.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/all-online' %}
              <a href="{{ site.baseurl }}/index.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% endif %}
          {% endif %}
        </span>
    {% endif %}

    {% comment %} Cybersecurity badge {% endcomment %}
    {% if page.url contains 'cybersecurity' %}
        <span class="badge bg-primary me-1">
          🔒 Cybersecurity

          {% if page.url contains 'online' %}
            {%- comment -%} remove Cybersec but keep Online {%- endcomment -%}
            {% if page.url contains '/summer-online-cybersecurity' %}
              <a href="{{ site.baseurl }}/summer-online.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/fall-online-cybersecurity' %}
              <a href="{{ site.baseurl }}/fall-online.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/all-online-cybersecurity' %}
              <a href="{{ site.baseurl }}/all-online.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% endif %}
          {% else %}
            {%- comment -%} remove Cybersec only {%- endcomment -%}
            {% if page.url contains '/summer-cybersecurity' %}
              <a href="{{ site.baseurl }}/summer.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/fall-cybersecurity' %}
              <a href="{{ site.baseurl }}/fall.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% elsif page.url contains '/all-cybersecurity' %}
              <a href="{{ site.baseurl }}/index.html" class="text-white text-decoration-none ms-1"><i class="bi bi-x-lg fs-5 ms-3 mf-0"></i></a>
            {% endif %}
          {% endif %}
        </span>
    {% endif %}
</div>


<script>
    function handleTermChange(select) {
        const route = select.value;
        if (route) {
            window.location.href = route;
        }
    }
</script>
