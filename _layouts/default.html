<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{ page.title }}</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
    </head>
    <body>
        {% include header.html %}

        <main class="container mt-4">
            {{ content }}
        </main>

        <!-- Bootstrap JS Bundle (includes Popper.js) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                document.querySelectorAll('.dropdown-submenu > .dropdown-toggle').forEach(function (toggle) {
                    toggle.addEventListener('click', function (e) {
                        e.preventDefault();
                        e.stopPropagation();

                        const parent = toggle.parentElement;

                        // Toggle only this submenu
                        if (parent.classList.contains('show')) {
                            parent.classList.remove('show');
                        } else {
                            // Close other submenus
                            document.querySelectorAll('.dropdown-submenu').forEach(function (submenu) {
                                submenu.classList.remove('show');
                            });

                            parent.classList.add('show');
                        }
                    });
                });

                // Close all submenus if user clicks elsewhere
                document.addEventListener('click', function (e) {
                    document.querySelectorAll('.dropdown-submenu').forEach(function (submenu) {
                        submenu.classList.remove('show');
                    });
                });
            });
        </script>
    </body>
</html>
